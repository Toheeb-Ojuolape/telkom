{"remainingRequest":"C:\\Users\\TOHEEB\\Documents\\GitHub\\telkom-verify\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\TOHEEB\\Documents\\GitHub\\telkom-verify\\src\\components\\EnterNin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\TOHEEB\\Documents\\GitHub\\telkom-verify\\src\\components\\EnterNin.vue","mtime":1624874193489},{"path":"C:\\Users\\TOHEEB\\Documents\\GitHub\\telkom-verify\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\TOHEEB\\Documents\\GitHub\\telkom-verify\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\TOHEEB\\Documents\\GitHub\\telkom-verify\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\TOHEEB\\Documents\\GitHub\\telkom-verify\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgeyBXZWJDYW0gfSBmcm9tICJ2dWUtd2ViLWNhbSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkVudGVyTmluIiwNCg0KICBkYXRhOiAoKSA9PiAoew0KICAgIGludGVydmFsOiBudWxsLA0KICAgIGltZzogbnVsbCwNCiAgICByZW5kZXJDYW06IHRydWUsDQogICAgY2FwdHVyZURvbmU6IGZhbHNlLA0KICAgIGNhbWVyYTogbnVsbCwNCiAgICBkZXZpY2VJZDogbnVsbCwNCiAgICBkZXZpY2VzOiBbXSwNCiAgICBuaW46ICIiLA0KICAgIG5pblBob25lOiAiIiwNCiAgICBzaG93RXJyb3I6IGZhbHNlLA0KICAgIHZhbGlkOiBmYWxzZSwNCiAgICB0aW1lT3V0OiBmYWxzZSwNCiAgICBwcm9jZXNzaW5nOiBmYWxzZSwNCiAgICBuaW5SdWxlczogWw0KICAgICAgKHYpID0+ICEhdiB8fCAiTklOIGlzIHJlcXVpcmVkIiwNCiAgICAgICh2KSA9PiAodiAmJiB2Lmxlbmd0aCA9PT0gMTEpIHx8ICJOSU4gbXVzdCBiZSAxMSBkaWdpdHMgb25seSIsDQogICAgXSwNCiAgICBuaW5QaG9uZVJ1bGVzOiBbDQogICAgICAodikgPT4gISF2IHx8ICJZb3VyIDltb2JpbGUgbnVtYmVyIGlzIHJlcXVpcmVkIiwNCiAgICAgICh2KSA9Pg0KICAgICAgICAodiAmJiB2Lmxlbmd0aCA9PT0gMTEpIHx8ICJZb3VyIHRlbGVwaG9uZSBtdXN0IGJlIDExIGRpZ2l0cyBsb25nIG9ubHkiLA0KICAgIF0sDQogIH0pLA0KDQogIG1ldGhvZHM6IHsNCiAgICB2YWxpZGF0ZSgpIHsNCiAgICAgICB0aGlzLnN1Ym1pdE5pbigpOw0KICAgICAgdGhpcy5zaG93RXJyb3IgPSBmYWxzZTsNCiAgICAgIC8vIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgew0KICAgICAgLy8gICBpZiAodGhpcy5jYXB0dXJlRG9uZSAmJiB0aGlzLmltZyAhPT0gJ2RhdGE6LCcpIHsNCiAgICAgIC8vICAgfSBlbHNlIHsNCiAgICAgIC8vICAgICBhbGVydCgiUGxlYXNlLCBjYXB0dXJlIHlvdXIgZmFjZSBmaXJzdCIpOw0KICAgICAgLy8gICB9DQogICAgICAvLyB9DQogICAgfSwNCiAgICBjYW5jZWwoKSB7DQogICAgICBpZiAoY29uZmlybSgiYXJlIHlvdSBzdXJlPyIpKSB7DQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnb3RvUGFnZSIsIDEpOw0KICAgICAgfQ0KICAgIH0sDQogICAgcmVzZXQoKSB7DQogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsNCiAgICB9LA0KICAgIHJlc2V0VmFsaWRhdGlvbigpIHsNCiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldFZhbGlkYXRpb24oKTsNCiAgICB9LA0KICAgIHN1Ym1pdE5pbigpIHsNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJuZXh0UGFnZSIpOw0KICAgICAgLy8gdGhpcy5wcm9jZXNzaW5nID0gdHJ1ZTsNCiAgICAgIC8vIC8vIHB1c2ggc2VsZmllIGRhdGEgdG8gc3RvcmUNCiAgICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzYXZlU2VsZmllJywgdGhpcy5pbWcpDQogICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZmV0Y2hOaW4iLCB7DQogICAgICAvLyAgIG5pbjogdGhpcy5uaW4sDQogICAgICAvLyB9KTsNCiAgICAgIC8vIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAvLyAgIGlmICh0aGlzLmlzTmluTG9va3VwRG9uZSkgew0KICAgICAgLy8gICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCkNCiAgICAgIC8vICAgICAvLyBnbyB0byB0aGUgbmV4dCBwYWdlDQogICAgICAvLyAgICAgdGhpcy5wcm9jZXNzaW5nID0gZmFsc2UNCiAgICAgIC8vICAgfQ0KICAgICAgLy8gfSwgMTAwMCk7DQogICAgfSwNCiAgICBvbkNhcHR1cmUoKSB7DQogICAgICBpZiAodGhpcy5yZW5kZXJDYW0pIHsNCiAgICAgICAgdGhpcy5pbWcgPSB0aGlzLiRyZWZzLndlYmNhbS5jYXB0dXJlKCk7DQogICAgICAgIHRoaXMuY2FwdHVyZURvbmUgPSB0cnVlOw0KICAgICAgICB0aGlzLnJlbmRlckNhbSA9IGZhbHNlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgYWxlcnQoIkNhbWVyYSBpcyBjdXJyZW50bHkgb2ZmLCBraW5kbHkgdHVybiBpdCBPTiIpOw0KICAgICAgfQ0KICAgIH0sDQogICAgb25TdGFydGVkKHN0cmVhbSkgew0KICAgICAgY29uc29sZS5sb2coIk9uIFN0YXJ0ZWQgRXZlbnQiLCBzdHJlYW0pOw0KICAgIH0sDQogICAgb25TdG9wcGVkKHN0cmVhbSkgew0KICAgICAgY29uc29sZS5sb2coIk9uIFN0b3BwZWQgRXZlbnQiLCBzdHJlYW0pOw0KICAgIH0sDQogICAgb25TdG9wKCkgew0KICAgICAgdGhpcy4kcmVmcy53ZWJjYW0uc3RvcCgpOw0KICAgICAgdGhpcy5yZW5kZXJDYW0gPSBmYWxzZTsNCiAgICAgIHRoaXMuY2FwdHVyZURvbmUgPSBmYWxzZTsNCiAgICB9LA0KICAgIG9uU3RhcnQoKSB7DQogICAgICB0aGlzLnJlbmRlckNhbSA9IHRydWU7DQogICAgICB0aGlzLiRyZWZzLndlYmNhbS5zdGFydCgpOw0KICAgICAgdGhpcy5jYXB0dXJlRG9uZSA9IGZhbHNlOw0KICAgIH0sDQogICAgb25FcnJvcihlcnJvcikgew0KICAgICAgY29uc29sZS5sb2coIk9uIEVycm9yIEV2ZW50IiwgZXJyb3IpOw0KICAgIH0sDQogICAgb25DYW1lcmFzKGNhbWVyYXMpIHsNCiAgICAgIHRoaXMuZGV2aWNlcyA9IGNhbWVyYXM7DQogICAgICBjb25zb2xlLmxvZygiT24gQ2FtZXJhcyBFdmVudCIsIGNhbWVyYXMpOw0KICAgIH0sDQogICAgb25DYW1lcmFDaGFuZ2UoZGV2aWNlSWQpIHsNCiAgICAgIHRoaXMuZGV2aWNlSWQgPSBkZXZpY2VJZDsNCiAgICAgIHRoaXMuY2FtZXJhID0gZGV2aWNlSWQ7DQogICAgICBjb25zb2xlLmxvZygiT24gQ2FtZXJhIENoYW5nZSBFdmVudCIsIGRldmljZUlkKTsNCiAgICB9LA0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbImlzTmluTG9va3VwRmFpbGVkIiwgImlzTmluTG9va3VwRG9uZSJdKSwNCiAgICBkZXZpY2U6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHJldHVybiB0aGlzLmRldmljZXMuZmluZCgobikgPT4gbi5kZXZpY2VJZCA9PT0gdGhpcy5kZXZpY2VJZCk7DQogICAgfSwNCiAgfSwNCg0KICB3YXRjaDogew0KICAgIGNhbWVyYTogZnVuY3Rpb24gKGlkKSB7DQogICAgICB0aGlzLmRldmljZUlkID0gaWQ7DQogICAgfSwNCiAgICBkZXZpY2VzOiBmdW5jdGlvbiAoKSB7DQogICAgICAvLyBPbmNlIHdlIGhhdmUgYSBsaXN0IHNlbGVjdCB0aGUgZmlyc3Qgb25lDQogICAgICBjb25zdCBbZmlyc3RdID0gdGhpcy5kZXZpY2VzOw0KICAgICAgaWYgKGZpcnN0KSB7DQogICAgICAgIHRoaXMuY2FtZXJhID0gZmlyc3QuZGV2aWNlSWQ7DQogICAgICAgIHRoaXMuZGV2aWNlSWQgPSBmaXJzdC5kZXZpY2VJZDsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KDQogIGNvbXBvbmVudHM6IHsNCiAgICBXZWJDYW0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["EnterNin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"EnterNin.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-row no-gutters>\r\n    <v-col md=\"6\" offset-md=\"3\">\r\n      <v-card class=\"pa-2\" outlined tile>\r\n        <v-card-text>\r\n          <v-alert dense border=\"left\" type=\"error\" v-if=\"isNinLookupFailed\">\r\n            Lookup failed. Check details or TRY AGAIN LATER\r\n          </v-alert>\r\n<!--          <v-alert dense border=\"left\" type=\"warning\" v-if=\"timeOut\">-->\r\n<!--            Request timed out, Please try again later-->\r\n<!--          </v-alert>-->\r\n          <v-form\r\n            ref=\"form\"\r\n            v-model=\"valid\"\r\n            lazy-validation\r\n            onsubmit=\"return false\"\r\n          >\r\n            <v-progress-circular\r\n                v-if=\"processing\"\r\n                :size=\"70\"\r\n                :width=\"7\"\r\n                color=\"purple\"\r\n                indeterminate\r\n            ></v-progress-circular>\r\n\r\n            <v-text-field\r\n              v-if=\"!processing\"\r\n              v-model=\"nin\"\r\n              :counter=\"11\"\r\n              maxlength=\"11\"\r\n              :rules=\"ninRules\"\r\n              label=\"Enter your valid NIN or Phone Number registered with your NIN\"\r\n              required\r\n            ></v-text-field>\r\n\r\n            <v-row>\r\n              <v-col sm=\"6\" offset-sm=\"3\">\r\n                <v-row>\r\n                  <v-alert type=\"success\" v-if=\"captureDone\">\r\n                    Image Captured Successfully\r\n                  </v-alert>\r\n                  <WebCam\r\n                    v-show=\"renderCam\"\r\n                    ref=\"webcam\"\r\n                    :device-id=\"deviceId\"\r\n                    width=\"100%\"\r\n                    @started=\"onStarted\"\r\n                    @stopped=\"onStopped\"\r\n                    @error=\"onError\"\r\n                    @cameras=\"onCameras\"\r\n                    @camera-change=\"onCameraChange\"\r\n                  ></WebCam>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col>\r\n                    <select v-model=\"camera\">\r\n                      <option>-- Select Device --</option>\r\n                      <option\r\n                        v-for=\"device in devices\"\r\n                        :key=\"device.deviceId\"\r\n                        :value=\"device.deviceId\"\r\n                      >\r\n                        {{ device.label }}\r\n                      </option>\r\n                    </select>\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col>\r\n                    <v-btn small color=\"primary\" @click=\"onCapture\"\r\n                      >Capture Photo</v-btn\r\n                    >\r\n                  </v-col>\r\n                </v-row>\r\n                <v-row>\r\n                  <v-col>\r\n                    <v-btn small color=\"error\" @click=\"onStop\"\r\n                      >Stop Camera</v-btn\r\n                    >\r\n                    <v-btn small color=\"warning\" @click=\"onStart\"\r\n                      >Start Camera</v-btn\r\n                    >\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n            </v-row>\r\n          </v-form>\r\n\r\n          <v-row align=\"center\" justify=\"space-around\">\r\n            <v-btn\r\n              :disabled=\"processing\"\r\n              @click=\"cancel\"\r\n              depressed\r\n              color=\"error\"\r\n            >\r\n              Cancel\r\n            </v-btn>\r\n            <v-btn\r\n              @click=\"validate\"\r\n              depressed\r\n              color=\"primary\"\r\n            >\r\n              Next\r\n            </v-btn>\r\n          </v-row>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { WebCam } from \"vue-web-cam\";\r\n\r\nexport default {\r\n  name: \"EnterNin\",\r\n\r\n  data: () => ({\r\n    interval: null,\r\n    img: null,\r\n    renderCam: true,\r\n    captureDone: false,\r\n    camera: null,\r\n    deviceId: null,\r\n    devices: [],\r\n    nin: \"\",\r\n    ninPhone: \"\",\r\n    showError: false,\r\n    valid: false,\r\n    timeOut: false,\r\n    processing: false,\r\n    ninRules: [\r\n      (v) => !!v || \"NIN is required\",\r\n      (v) => (v && v.length === 11) || \"NIN must be 11 digits only\",\r\n    ],\r\n    ninPhoneRules: [\r\n      (v) => !!v || \"Your 9mobile number is required\",\r\n      (v) =>\r\n        (v && v.length === 11) || \"Your telephone must be 11 digits long only\",\r\n    ],\r\n  }),\r\n\r\n  methods: {\r\n    validate() {\r\n       this.submitNin();\r\n      this.showError = false;\r\n      // if (this.$refs.form.validate()) {\r\n      //   if (this.captureDone && this.img !== 'data:,') {\r\n      //   } else {\r\n      //     alert(\"Please, capture your face first\");\r\n      //   }\r\n      // }\r\n    },\r\n    cancel() {\r\n      if (confirm(\"are you sure?\")) {\r\n        this.$store.dispatch(\"gotoPage\", 1);\r\n      }\r\n    },\r\n    reset() {\r\n      this.$refs.form.reset();\r\n    },\r\n    resetValidation() {\r\n      this.$refs.form.resetValidation();\r\n    },\r\n    submitNin() {\r\n      this.$store.dispatch(\"nextPage\");\r\n      // this.processing = true;\r\n      // // push selfie data to store\r\n      // this.$store.dispatch('saveSelfie', this.img)\r\n      // this.$store.dispatch(\"fetchNin\", {\r\n      //   nin: this.nin,\r\n      // });\r\n      // this.interval = setInterval(() => {\r\n      //   if (this.isNinLookupDone) {\r\n      //     clearInterval(this.interval)\r\n      //     // go to the next page\r\n      //     this.processing = false\r\n      //   }\r\n      // }, 1000);\r\n    },\r\n    onCapture() {\r\n      if (this.renderCam) {\r\n        this.img = this.$refs.webcam.capture();\r\n        this.captureDone = true;\r\n        this.renderCam = false;\r\n      } else {\r\n        alert(\"Camera is currently off, kindly turn it ON\");\r\n      }\r\n    },\r\n    onStarted(stream) {\r\n      console.log(\"On Started Event\", stream);\r\n    },\r\n    onStopped(stream) {\r\n      console.log(\"On Stopped Event\", stream);\r\n    },\r\n    onStop() {\r\n      this.$refs.webcam.stop();\r\n      this.renderCam = false;\r\n      this.captureDone = false;\r\n    },\r\n    onStart() {\r\n      this.renderCam = true;\r\n      this.$refs.webcam.start();\r\n      this.captureDone = false;\r\n    },\r\n    onError(error) {\r\n      console.log(\"On Error Event\", error);\r\n    },\r\n    onCameras(cameras) {\r\n      this.devices = cameras;\r\n      console.log(\"On Cameras Event\", cameras);\r\n    },\r\n    onCameraChange(deviceId) {\r\n      this.deviceId = deviceId;\r\n      this.camera = deviceId;\r\n      console.log(\"On Camera Change Event\", deviceId);\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"isNinLookupFailed\", \"isNinLookupDone\"]),\r\n    device: function () {\r\n      return this.devices.find((n) => n.deviceId === this.deviceId);\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    camera: function (id) {\r\n      this.deviceId = id;\r\n    },\r\n    devices: function () {\r\n      // Once we have a list select the first one\r\n      const [first] = this.devices;\r\n      if (first) {\r\n        this.camera = first.deviceId;\r\n        this.deviceId = first.deviceId;\r\n      }\r\n    },\r\n  },\r\n\r\n  components: {\r\n    WebCam,\r\n  },\r\n};\r\n</script>\r\n"]}]}